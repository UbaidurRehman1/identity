(this.webpackJsonpidentity=this.webpackJsonpidentity||[]).push([[0],{100:function(e,a,t){e.exports=t(131)},105:function(e,a,t){},107:function(e,a,t){},131:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(9),r=t.n(i),o=(t(105),t(106),t(107),t(179)),c=t(182),u=t(184),d=t(66),s=t(208),m=t(42),p=Object(o.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{maxWidth:160,fontSize:30,marginRight:30,textAlign:"center"},authItem:{},toolbar:{}}}));function v(){var e=p();return l.a.createElement("div",{className:e.root},l.a.createElement(c.a,{position:"static"},l.a.createElement(u.a,{className:e.toolbar},l.a.createElement(d.a,{className:e.title},"Identity"),l.a.createElement(m.b,{to:"/identity/create",style:{textDecoration:"none",outline:"none"}},l.a.createElement(s.a,{style:{color:"white"}},"Home")),l.a.createElement(m.b,{to:"#",style:{textDecoration:"none",outline:"none"}},l.a.createElement(s.a,{style:{color:"white"}},"Form Preview")),l.a.createElement(m.b,{to:"#",style:{textDecoration:"none",outline:"none"}},l.a.createElement(s.a,{style:{color:"white"}},"Auth")))))}var f=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement("main",null,e.children))},h=t(51),b=t(206),g=t(200),E=t(204),y=t(199),O=t(207),N=t(185),x=t(209),I=t(201),k=Object(o.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"}}})),L=function(e){var a=e.formType,t=e.required,n=e.id,i=e.disabled,r=e.label,o=e.value,c=e.options,u=e.handler,d=k();return l.a.createElement(N.a,{required:t,variant:"outlined",className:d.formControl,key:n,disabled:i},l.a.createElement(x.a,{id:n},r),l.a.createElement(I.a,{required:t,native:!0,labelId:n,key:n,id:n,name:n,value:o,label:r,onChange:function(e){return u(e,a,"input")}},l.a.createElement("option",{key:"none","aria-label":"None",value:""}),c.map((function(e){return l.a.createElement("option",{key:e,value:e},e)}))))},T=t(188),w=t(203),F=function(e){var a=e.id,t=e.label,n=e.value,i=e.formType,r=e.handler;return l.a.createElement(T.a,{key:a,label:t,labelPlacement:"end",control:l.a.createElement(w.a,{key:a,value:n,checked:n,onChange:function(e){return r(e,i,"check")},id:a})})},j=Object(o.a)((function(e){return{root:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",marginTop:e.spacing(5),"& > *":{margin:e.spacing(1),width:"80%"}},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},selectEmpty:{marginTop:e.spacing(2)}}})),C=function(e){var a=e.form,t=e.handler,n=e.formType,i=j(),r=Object.keys(a).map((function(e){return a[e].id=e,a[e]}));return l.a.createElement("form",{className:i.root},r.map((function(e){switch(e.type){case"text":return l.a.createElement(O.a,{error:e.validation.isTouched&&!e.validation.isValid,disabled:e.disabled,hidden:e.hidden,key:e.id,required:e.validation.required,id:e.id,label:e.label,variant:"outlined",value:e.value,onChange:function(e){return t(e,n,"input")}});case"select":return l.a.createElement(L,{required:e.validation.required,disabled:e.disabled,value:e.value,label:e.label,id:e.id,key:e.id,options:e.options,formType:n,handler:t});case"check":return l.a.createElement(F,{key:e.id,handler:t,formType:n,id:e.id,label:e.label,value:e.value});default:return null}})))},P=t(132),S={PERSONAL_INFO:{firstName:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:255,isTouched:!1,isValid:!1},label:"First Name"},middleName:{disabled:!1,value:"",type:"text",validation:{required:!1,minLength:0,maxLength:255,isTouched:!1,isValid:!1},label:"Middle Name"},lastName:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:255,isTouched:!1,isValid:!1},label:"Last Name"},age:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:2,maxLength:2,isTouched:!1,isValid:!1},label:"Age"},mobileNumber:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:11,maxLength:16,isTouched:!1,isValid:!1},label:"Mobile Number"}},EDUCATIONAL_INFO:{metricMarks:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:6,isTouched:!1,isValid:!1},label:"Percentage in Metric"},intermediateMarks:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:6,isTouched:!1,isValid:!1},label:"Percentage in Intermediate"},bachelorCGPA:{disabled:!1,value:"",type:"select",options:[1,2,3,4],validation:{required:!0,minLength:1,maxLength:6,isTouched:!1,isValid:!1},label:"CGPA in Bachelor "}},PROFESSIONAL_INFO:{status:{value:!1,type:"check",validation:{required:!0,isTouched:!1,isValid:!0},label:"Are You Employed?"},companyName:{disabled:!0,value:"",type:"text",validation:{required:!0,minLength:5,maxLength:255,isTouched:!1,isValid:!1},label:"Name of Company"},designationName:{disabled:!0,value:"",type:"text",validation:{required:!0,minLength:5,maxLength:255,isTouched:!1,isValid:!1},label:"Designation Name"}},EXCISE_INFO:{isVehicle:{value:!1,type:"check",validation:{required:!1,isValid:!0},label:"Have you vehicle?"},type:{disabled:!0,value:"",type:"select",options:["Bike","SVM"],validation:{required:!0,minLength:1,maxLength:255,isTouched:!1,isValid:!1},label:"Type"},plateNumber:{disabled:!0,type:"text",value:"",validation:{required:!0,minLength:4,maxLength:10,isTouched:!1,isValid:!1},label:"Plate Number"}},RESIDENT_INFO:{isHouse:{value:!1,type:"check",validation:{required:!1,isValid:!0},label:"Are you own a house?"},houseNumber:{disabled:!0,value:"",type:"text",validation:{required:!0,minLength:4,maxLength:10,isTouched:!1,isValid:!0},label:"houseNumber"}}},V=[{step:0,label:"Personal Info",value:"PERSONAL_INFO"},{step:1,label:"Educational Info",value:"EDUCATIONAL_INFO"},{step:2,label:"Professional Info",value:"PROFESSIONAL_INFO"},{step:3,label:"Excise Info",value:"EXCISE_INFO"},{step:4,label:"Resident Info",value:"RESIDENT_INFO"},{step:5,label:"Preview",value:"PREVIEW"}],A=t(32),q=t(46),R=t.n(q),_=t(84),D=t.n(_).a.create({baseURL:"https://react-demo-45a1b.firebaseio.com/"}),M=function(e,a){return{type:"NEXT_FORM",info:e,formId:a}},B=function(){return{type:"FORM_UPDATING"}},U=t(205),W=t(198),H=t(196),G=t(197),X=t(195),J=t(190),z=t(194),Y=t(193),$=t(189),K=t(191),Q=t(192),Z=Object(o.a)((function(e){return{root:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",marginTop:e.spacing(5),"& > *":{margin:e.spacing(1),width:"80%"}},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},selectEmpty:{marginTop:e.spacing(2)},table:{minWidth:650}}})),ee=function(e){var a=e.form,t=Z();return l.a.createElement(l.a.Fragment,null,Object.keys(a).map((function(e){var n=a[e];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,e),l.a.createElement($.a,{component:P.a},l.a.createElement(J.a,{className:t.table,"aria-label":"simple table"},l.a.createElement(K.a,null,l.a.createElement(Q.a,null,l.a.createElement(Y.a,{width:"20%"},l.a.createElement("strong",null,"Field Name")),l.a.createElement(Y.a,{width:"40%"},l.a.createElement("strong",null,"Value")))),l.a.createElement(z.a,null,Object.keys(n).map((function(e){var a=n[e];return l.a.createElement(Q.a,{key:a.label},l.a.createElement(Y.a,{component:"th",scope:"row"},a.label),l.a.createElement(Y.a,null,a.value))}))))))})))},ae=function(e){var a=e.open,t=e.modalHandler,n=e.form,i=e.saveFormHandler,r=l.a.useRef(null);return l.a.useEffect((function(){if(a){var e=r.current;null!==e&&e.focus()}}),[a]),l.a.createElement("div",null,l.a.createElement(U.a,{open:a,onClose:t,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},l.a.createElement(X.a,{id:"scroll-dialog-title"},"Form Preview"),l.a.createElement(H.a,{dividers:!0},l.a.createElement(G.a,{id:"scroll-dialog-description",ref:r,tabIndex:-1},l.a.createElement(ee,{form:n}))),l.a.createElement(W.a,null,l.a.createElement(y.a,{onClick:t,color:"primary"},"Cancel"),l.a.createElement(y.a,{onClick:i,color:"primary"},"Save"))))},te=Object(o.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},paper:{padding:e.spacing(2),margin:e.spacing(2),marginRight:"auto",marginLeft:"auto",width:"80%",height:"500px"},stepProgress:{color:"red"}}}));var ne=function(){var e=te(),a=l.a.useState(V[0]),t=Object(h.a)(a,2),i=t[0],r=t[1],o=V.filter((function(e){return 5!==e.step})).map((function(e){return e.label})),c=Object(A.b)(),u=Object(n.useCallback)((function(e,a){return c(function(e,a){return function(t){a?(t(B()),D.put("/identity/".concat(a,".json"),e).then((function(n){console.log(n),t(M(e,a))})).catch((function(e){console.log(e)}))):D.post("/identity.json",e).then((function(a){console.log(a),t(M(e,a.data.name))})).catch((function(e){console.log(e)}))}}(e,a))}),[c]),s=Object(A.c)((function(e){return e.form.formId})),m=(Object(A.c)((function(e){return e.form.isUpdating})),Object(n.useState)(S)),p=Object(h.a)(m,2),v=p[0],f=p[1],O=Object(n.useState)(!0),N=Object(h.a)(O,2),x=N[0],I=N[1],k=Object(n.useState)(!1),L=Object(h.a)(k,2),T=L[0],w=L[1];function F(){var e=R.a.clone(v),a={};for(var t in e){var n=e[t],l={};for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];r.disabled||(l[i]=r.value)}a[t]=l}return a}var j=function(e){var a=R.a.clone(v)[e.value];U(a)?I(!1):I(!0)},q=function(e,a){var t=R.a.clone(v),n=t[e.value];for(var l in n)n.hasOwnProperty(l)&&("text"!==n[l].type&&"select"!==n[l].type||(n[l].disabled=a));console.log("New Identity Form: => ",t),f(t)},_=function(e,a){return(e=String(e)).length>=a.minLength&&e.length<=a.maxLength},U=function(e){for(var a in e)if(e.hasOwnProperty(a)){var t=e[a];if(console.log("Field: -> ",t),!t.disabled&&!t.validation.isValid)return console.log("Form is not valid -> returning false"),!1}return console.log("Form is Valid"),!0};return l.a.createElement("div",{className:e.root},l.a.createElement(b.a,{activeStep:i.step,alternativeLabel:!0},o.map((function(a){return l.a.createElement(g.a,{key:a,className:e.stepProgress},l.a.createElement(E.a,null,a))}))),l.a.createElement("div",null,i.step===o.length?l.a.createElement("div",null,l.a.createElement(d.a,{className:e.instructions},"All steps completed"),l.a.createElement(y.a,{onClick:function(){r(V[0])}},"Reset")):l.a.createElement("div",null,l.a.createElement(P.a,{elevation:3,className:e.paper},l.a.createElement(C,{form:v[i.value],formType:i,handler:function(e,a,t){var n=R.a.clone(v),l=n[a.value],i=e.target.id;if(void 0===i&&(i=e.target.name),"check"===t)l[i].value=e.target.checked,e.target.checked?q(a,!1):q(a,!0);else{var r=l[i];r.value=e.target.value,r.validation.isTouched=!0,r.validation.isValid=_(r.value,r.validation)}U(l)?I(!1):I(!0),f(n)}})),l.a.createElement("div",null,l.a.createElement(y.a,{disabled:0===i.step,onClick:function(){r((function(e){return j(V[e.step-1]),V[e.step-1]}))},className:e.backButton},"Back"),i.step!==o.length-1?l.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){var e=F();e.isFormCompleted=!1,e.useId=1234,u(e,s),r((function(e){return j(V[e.step+1]),V[e.step+1]}))},disabled:x},"Next"):l.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){return w(!0)},disabled:x},"Preview")))),l.a.createElement(ae,{form:v,open:T,modalHandler:function(){return w(!1)},saveFormHandler:function(){w(!1);var e=F();e.isFormCompleted=!0,e.useId=1234,u(e,s),r(V[0]),I(!0),function(){var e=R.a.clone(v);for(var a in e){var t=e[a];if(t===S.PROFESSIONAL_INFO||t===S.EXCISE_INFO||t===S.RESIDENT_INFO){for(var n in t)if(t.hasOwnProperty(n)){var l=t[n];"check"===l.type?l.value=!1:(l.disabled=!0,l.value="",l.validation.isValid=!1,l.validation.isTouched=!1)}}else for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];r.value="",r.validation.isValid=!1,r.validation.isTouched=!1}}f(e)}()}}))},le=t(10),ie=Object(o.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:e.spacing(16),height:e.spacing(16)}}}})),re=function(){var e=ie(),a=Object(A.c)((function(e){return e.form.form}));return l.a.createElement(P.a,{elevation:3,className:e.root},l.a.createElement(ee,{form:a}))};var oe=function(){var e=l.a.createElement(le.d,null,l.a.createElement(n.Suspense,{fallback:l.a.createElement("div",null,"Loading ....")},l.a.createElement(le.b,{path:"/identity/create",exact:!0,component:ne}),l.a.createElement(le.b,{path:"/identity/preview",exact:!0,component:re}),l.a.createElement(le.a,{to:"/identity/create"})));return l.a.createElement("div",{className:"App"},l.a.createElement(f,null,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce,ue=t(25),de=t(38),se={formId:null,form:null,isCompleted:!1,error:null,isUpdating:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NEXT_FORM":return Object(de.a)(Object(de.a)({},e),{},{form:a.info,formId:a.formId,isUpdating:!1});case"HALT_FORM":return Object(de.a)(Object(de.a)({},e),{},{error:a.error});case"FORM_UPDATING":return Object(de.a)(Object(de.a)({},e),{},{isUpdating:!0});default:return e}},pe=t(65),ve=(t(85),Object(ue.combineReducers)({form:me}));ce=Object(ue.createStore)(ve,Object(ue.applyMiddleware)(pe.a)),r.a.render(l.a.createElement(A.a,{store:ce},l.a.createElement(m.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.599a0ecc.chunk.js.map