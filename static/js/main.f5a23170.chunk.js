(this.webpackJsonpidentity=this.webpackJsonpidentity||[]).push([[0],{111:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),l=t(8),r=t.n(l),o=(t(86),t(87),t(88),t(151)),c=t(154),u=t(156),d=t(113),s=t(168),m=Object(o.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{maxWidth:160,fontSize:30,marginRight:30,textAlign:"center"},authItem:{},toolbar:{}}}));function h(){var e=m();return i.a.createElement("div",{className:e.root},i.a.createElement(c.a,{position:"static"},i.a.createElement(u.a,{className:e.toolbar},i.a.createElement(d.a,{className:e.title},"Identity"),i.a.createElement(s.a,null,"Home"),i.a.createElement(s.a,null,"Preview Form"),i.a.createElement(s.a,{className:e.authItem},"Auth"))))}var v=function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,null),i.a.createElement("main",null,e.children))},p=t(44),g=t(166),b=t(161),f=t(165),E=t(162),y=t(167),N=t(157),O=t(169),x=t(163),I=Object(o.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"}}})),L=function(e){var a=e.formType,t=e.required,n=e.id,l=e.disabled,r=e.label,o=e.value,c=e.options,u=e.handler,d=I();return i.a.createElement(N.a,{required:t,variant:"outlined",className:d.formControl,key:n,disabled:l},i.a.createElement(O.a,{id:n},r),i.a.createElement(x.a,{labelId:n,key:n,id:n,name:n,value:o,label:r,onChange:function(e){return u(e,a,"input")}},i.a.createElement(s.a,{key:"none","aria-label":"None",value:""},"None"),c.map((function(e){return i.a.createElement(s.a,{key:e,value:e},e)}))))},T=t(160),k=t(164),j=function(e){var a=e.id,t=e.label,n=e.value,l=e.formType,r=e.handler;return i.a.createElement(T.a,{key:a,label:t,labelPlacement:"end",control:i.a.createElement(k.a,{key:a,value:n,checked:n,onChange:function(e){return r(e,l,"check")},id:a})})},F=Object(o.a)((function(e){return{root:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",marginTop:e.spacing(5),"& > *":{margin:e.spacing(1),width:"80%"}},formControl:{margin:e.spacing(1),minWidth:120,textAlign:"left"},selectEmpty:{marginTop:e.spacing(2)}}})),V=function(e){var a=e.form,t=e.handler,n=e.formType,l=F(),r=Object.keys(a).map((function(e){return a[e].id=e,a[e]}));return i.a.createElement("form",{className:l.root},r.map((function(e){switch(e.type){case"text":return i.a.createElement(y.a,{error:e.validation.isTouched&&!e.validation.isValid,disabled:e.disabled,hidden:e.hidden,key:e.id,required:e.validation.required,id:e.id,label:e.label,variant:"outlined",value:e.value,onChange:function(e){return t(e,n,"input")}});case"select":return i.a.createElement(L,{required:e.validation.required,disabled:e.disabled,value:e.value,label:e.label,id:e.id,options:e.options,formType:n,handler:t});case"check":return i.a.createElement(j,{handler:t,formType:n,id:e.id,label:e.label,value:e.value});default:return null}})))},q=t(112),w={PERSONAL_INFO:{firstName:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:255,isTouched:!1,isValid:!1},label:"First Name"},middleName:{disabled:!1,value:"",type:"text",validation:{required:!1,minLength:0,maxLength:255,isTouched:!1,isValid:!1},label:"Middle Name"},lastName:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:255,isTouched:!1,isValid:!1},label:"Last Name"},age:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:2,maxLength:2,isTouched:!1,isValid:!1},label:"Age"},mobileNumber:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:11,maxLength:16,isTouched:!1,isValid:!1},label:"Mobile Number"}},EDUCATIONAL_INFO:{metricMarks:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:6,isTouched:!1,isValid:!1},label:"Percentage in Metric"},intermediateMarks:{disabled:!1,value:"",type:"text",validation:{required:!0,minLength:3,maxLength:6,isTouched:!1,isValid:!1},label:"Percentage in Intermediate"},bachelorCGPA:{disabled:!1,value:"",type:"select",options:[1,2,3,4],validation:{required:!0,minLength:1,maxLength:6,isTouched:!1,isValid:!1},label:"CGPA in Bachelor "}},PROFESSIONAL_INFO:{status:{value:!1,type:"check",validation:{required:!0,isTouched:!1,isValid:!0},label:"Are You Employed?"},companyName:{disabled:!0,value:"",type:"text",validation:{required:!0,minLength:5,maxLength:255,isTouched:!1,isValid:!1},label:"Name of Company"},designationName:{disabled:!0,value:"",type:"text",validation:{required:!0,minLength:5,maxLength:255,isTouched:!1,isValid:!1},label:"Designation Name"}},EXCISE_INFO:{isVehicle:{value:!1,type:"check",validation:{required:!1,isValid:!0},label:"Have you vehicle?"},type:{disabled:!0,value:"",type:"select",options:["Bike","SVM"],validation:{required:!0,minLength:1,maxLength:255,isTouched:!1,isValid:!1},label:"Type"},plateNumber:{disabled:!0,type:"text",validation:{required:!0,minLength:4,maxLength:10,isTouched:!1,isValid:!1},label:"Plate Number"}},RESIDENT_INFO:{isHouse:{value:!1,type:"check",validation:{required:!1,isValid:!0},label:"Are you own a house?"},houseNumber:{disabled:!0,value:"",type:"text",validation:{required:!0,minLength:4,maxLength:10,isTouched:!1,isValid:!0},label:"houseNumber"}}},A=[{step:0,label:"Personal Info",value:"PERSONAL_INFO"},{step:1,label:"Educational Info",value:"EDUCATIONAL_INFO"},{step:2,label:"Professional Info",value:"PROFESSIONAL_INFO"},{step:3,label:"Excise Info",value:"EXCISE_INFO"},{step:4,label:"Resident Info",value:"RESIDENT_INFO"},{step:5,label:"Preview",value:"PREVIEW"}],P=t(34),R=t(38),C=t.n(R),S=t(67),_=t.n(S).a.create({baseURL:"https://react-demo-45a1b.firebaseio.com/"}),M=function(e,a){return{type:"NEXT_FORM",info:e,formId:a}},U=function(){return{type:"FORM_UPDATING"}},B=Object(o.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},paper:{padding:e.spacing(2),margin:e.spacing(2),marginRight:"auto",marginLeft:"auto",width:"80%",height:"500px"},stepProgress:{color:"red"}}}));var D=function(){var e=B(),a=i.a.useState(A[0]),t=Object(p.a)(a,2),l=t[0],r=t[1],o=A.filter((function(e){return 5!==e.step})).map((function(e){return e.label})),c=Object(P.b)(),u=Object(n.useCallback)((function(e,a){return c(function(e,a){return function(t){a?(t(U()),_.put("/identity/".concat(a,".json"),e).then((function(n){console.log(n),t(M(e,a))})).catch((function(e){console.log(e)}))):_.post("/identity.json",e).then((function(a){console.log(a),t(M(e,a.data.name))})).catch((function(e){console.log(e)}))}}(e,a))}),[c]),s=Object(P.c)((function(e){return e.form.formId})),m=Object(P.c)((function(e){return e.form.isUpdating})),h=Object(n.useState)(w),v=Object(p.a)(h,2),y=v[0],N=v[1],O=Object(n.useState)(!0),x=Object(p.a)(O,2),I=x[0],L=x[1],T=function(e){var a=C.a.clone(y)[e.value];F(a)?L(!1):L(!0)},k=function(e,a){var t=C.a.clone(y),n=t[e.value];for(var i in n)n.hasOwnProperty(i)&&("text"!==n[i].type&&"select"!==n[i].type||(n[i].disabled=a));console.log("New Identity Form: => ",t),N(t)},j=function(e,a){return(e=String(e)).length>=a.minLength&&e.length<=a.maxLength},F=function(e){for(var a in e)if(e.hasOwnProperty(a)){var t=e[a];if(console.log("Field: -> ",t),!t.disabled&&!t.validation.isValid)return console.log("Form is not valid -> returning false"),!1}return console.log("Form is Valid"),!0};return i.a.createElement("div",{className:e.root},i.a.createElement(g.a,{activeStep:l.step,alternativeLabel:!0},o.map((function(a){return i.a.createElement(b.a,{key:a,className:e.stepProgress},i.a.createElement(f.a,null,a))}))),i.a.createElement("div",null,l.step===o.length?i.a.createElement("div",null,i.a.createElement(d.a,{className:e.instructions},"All steps completed"),i.a.createElement(E.a,{onClick:function(){r(A[0])}},"Reset")):i.a.createElement("div",null,i.a.createElement(q.a,{elevation:3,className:e.paper},i.a.createElement(V,{form:y[l.value],formType:l,handler:function(e,a,t){var n=C.a.clone(y),i=n[a.value],l=e.target.id;if(void 0===l&&(l=e.target.name),"check"===t)i[l].value=e.target.checked,e.target.checked?k(a,!1):k(a,!0);else{var r=i[l];r.value=e.target.value,r.validation.isTouched=!0,r.validation.isValid=j(r.value,r.validation)}F(i)?L(!1):L(!0),N(n)}})),i.a.createElement("div",null,i.a.createElement(E.a,{disabled:0===l.step,onClick:function(){r((function(e){return T(A[e.step-1]),A[e.step-1]}))},className:e.backButton},"Back"),i.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){var e=C.a.clone(y),a={};for(var t in e){var n=e[t],i={};for(var l in n)if(n.hasOwnProperty(l)){var o=n[l];i[l]=o.value}a[t]=i}console.log("formId --\x3e ",s),console.log("isForm Updating --\x3e ",m),u(a,s),r((function(e){return T(A[e.step+1]),A[e.step+1]}))},disabled:I},l.step===o.length-1?"Finish":"Next")))))};var W=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(v,null,i.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G,H=t(18),X=t(27),J={formId:null,form:null,isCompleted:!1,error:null,isUpdating:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NEXT_FORM":return Object(X.a)(Object(X.a)({},e),{},{form:a.info,formId:a.formId,isUpdating:!1});case"HALT_FORM":return Object(X.a)(Object(X.a)({},e),{},{error:a.error});case"FORM_UPDATING":return Object(X.a)(Object(X.a)({},e),{},{isUpdating:!0});default:return e}},Y=t(48),$=(t(68),Object(H.combineReducers)({form:z}));G=Object(H.createStore)($,Object(H.applyMiddleware)(Y.a)),r.a.render(i.a.createElement(P.a,{store:G},i.a.createElement(i.a.StrictMode,null,i.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,a,t){e.exports=t(111)},86:function(e,a,t){},88:function(e,a,t){}},[[81,1,2]]]);
//# sourceMappingURL=main.f5a23170.chunk.js.map